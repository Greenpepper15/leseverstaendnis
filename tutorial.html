<!DOCTYPE html>

<html>
<head>
    <link rel="stylesheet" href="stylesheet.css">
</head>

<body>
    <header>
        <h1>Willkommen zur Umfrage</h1>
        <p>von David und Lea im Rahmen des Projektseminars Visual Computing and Games im WS 20/21 <br> 
                Die Umfrage benoetigt nur wenige Minuten. Bitte fuellen Sie zunaechst die Felder zur Selbstauskunft aus.</p>
    
    </header>
    <title>Influences of textual Parameters </title>
    <h2>Zu dieser Umfrage gibt es zwei Versionen, eine Version mit Cookies und eine ohne Cookies <br> 
        Da einige Browser lokale Cookies blockieren, muessen diese Benutzer die Version ohne Cookies nehmen. <br>
        Das ist auch nicht schlimm, da die Versionen fast identisch sind <br>
    Eine Version benutzt lokale Cookies um Ihren Fortschritt zu speichern, wenn Sie diese Version auswaehlen, stimmen Sie zu, dass wir diese Cookies verwenden</h2> <br>
   <h3> Danke, dass Sie sich die Zeit nehmen, um teilzunehmen! </h3>

    <div class ="formstyle">
        <form action="https://send.pageclip.co/aQlCB42llkM5b7S4ZBcufO2vszmXLq6E/Einverstaendnis" class="pageclip-form" method="post">
            <legend><span class="number">1</span> Selbstauskunft</legend>
            <label for="age">Alter:</label>
                <input type="text" id="age" name="age" required><br>
            <div class="custom-sel" style="width: 200px;">
                <label for="gender">Geschlecht:</label>
                <select id = "gender" name="gender" required>
                    <option value="" selected disabled hidden>Bitte auswaehlen</option>
                    <option value="female">weiblich</option>
                    <option value="male">maennlich</option>
                    <option value="divers">divers</option>
                </select>
            </div>
            <label for="mouthertongue">Ist Deutsch Ihre Muttersprache?</label>
                <input type="radio" class="checkbox" id="german" name="mouthertongue" value="deutsch"> Ja
                <input type="radio" class="checkbox" id="other" name="mouthertongue" value="andere"> Nein
   
            <label for="colourvision">Koennen Sie ungeingeschraenkt Farben sehen?</label>
                <input type="radio" class="checkbox" id="unlim" name="vision" value="unlim"> Ja
                <input type="radio" class="checkbox" id="lim" name="vision" value="lim"> Nein 
            
            <label for="device">Auf welchen dieser Geraete fuellen Sie den Fragenbogen aus?</label>
                <input type="radio" class="checkbox" id="unlim" name="device" value="Desktop"> Desktop/Laptop
                <input type="radio" class="checkbox" id="lim" name="device" value="tablet"> Tablet
                <input type="radio" class="checkbox" id="lim" name="device" value="smartphone"> Smartphone
            
            <legend><span class="number">2</span> Einverstaendniserklaerung</legend>
            <label for="agreement">Stimmst Sie zu, dass wir Ihre Angaben anonymisiert auswerten?</label>
                <input type="radio" class="checkbox" id="agree" name="agreement" value="agree"> Ja
                <input type="radio" class="checkbox" id="disagree" name="agreement" value="disagree"> Nein
                <input type="hidden" id="custId" name="custId">
            
            <label id="cookieId" for="cookies">Wollen Sie an der Umfragen Version mit oder ohne Cookies teilnehmen? </label>
                <input type="radio" class="checkbox" id="cookieA" name="cookies" value="agree" onclick="changeLink('https://greenpepper15.github.io/leseverstaendnis/videotutorial1.html')"> mit Cookies
                <input type="radio" class="checkbox" id="cookieD" name="cookies" value="disagree" onclick="changeLink('https://greenpepper15.github.io/leseverstaendnis/videotutorial1_ohne_cookies.html')"> ohne Cookies
        
            <input type="submit" onclick ="retId('custId')" value="Weiter zum Umfragen Tutorial">
            <!-- <button type="button">Start</button> -->

        </form>
    </div>
    

    <footer>
        <p>  H-BRS, Wintersemester 20/21, Visual Computing and Games</p>
    </footer>
    <script src="//cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>
    <script src="https://s.pageclip.co/v1/pageclip.js" charset="utf-8"></script>
    <script>
      var id; 
      var link = "https://greenpepper15.github.io/leseverstaendnis/videotutorial1";
      function initFingerprintJS() {
            FingerprintJS.load().then(fp => {
              // The FingerprintJS agent is ready.
              // Get a visitor identifier when you'd like to.
              fp.get().then(result => {
                // This is the visitor identifier:
                const visitorId = result.visitorId;
                id =  visitorId;
                console.log(visitorId);
              });
            });
          }
        initFingerprintJS();
        
        function changeLink(newLink){
             link = newLink;
        }
       
        function changeSite() {
           window.location.replace(link);
        }
        function retId(node_id) {
            var inputF = document.getElementById(node_id);
            inputF.value = String(id);
            setTimeout(changeSite, 1000);
        }
        
        var allFragen = {"Fragen": ["Frage1","Frage2","Frage3","Frage4","Frage5","Frage6","Frage7","Frage8","Frage9","Frage10","Frage11","Frage12","Frage13","Frage14","Frage15","Frage16","Frage17"]};
        localStorage.setItem("frageSammlung",JSON.stringify(allFragen));
        localStorage.setItem("fragenCounter", "1");
        setCookie("fraSam", JSON.stringify(allFragen),1);
        setCookie("fragCou", "1" ,1);
        if(getCookie("fragCou") == "" &&  localStorage.getItem("frageSammlung") == null){
            link = "https://greenpepper15.github.io/leseverstaendnis/videotutorial2_ohne_cookies.html";
             document.getElementById("cookieId").style.visibility = "hidden";
             document.getElementById("cookieA").style.visibility = "hidden";
             document.getElementById("cookieD").style.visibility = "hidden";
             alert("Fuer Sie wurde automatisch die Umfrage ohne Cookies gewaehlt \n Dies hat fuer Sie keine weitere Bedeutung");
        }
        
function setCookie(cname, cvalue, exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
  var expires = "expires="+d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
  var name = cname + "=";
  var ca = document.cookie.split(';');
  for(var i = 0; i < ca.length; i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}
    </script>
    

</body>

</html>
